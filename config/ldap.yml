# LDAP Configuration
# This file configures LDAP authentication settings for each environment.
# All sensitive values should be stored in Rails encrypted credentials.
#
# Required credentials for each environment:
#   - ldap_host: LDAP server hostname
#   - ldap_port: LDAP server port (typically 389 for non-SSL, 636 for SSL)
#   - ldap_attribute: Search attribute (e.g., 'cn', 'uid', 'sAMAccountName')
#   - ldap_base: Base DN for user searches (e.g., 'ou=people,dc=example,dc=com')
#   - ldap_admin_user: Admin bind DN (e.g., 'cn=admin,dc=example,dc=com')
#   - ldap_admin_user_password: Admin bind password
#   - ldap_ssl: Encryption method ('simple_tls', 'start_tls', or false for no encryption)

development:
  host: <%= Rails.application.credentials.ldap_host %>
  port: <%= Rails.application.credentials.ldap_port %>
  attribute: <%= Rails.application.credentials.ldap_attribute %>
  base: <%= Rails.application.credentials.ldap_base %>
  admin_user: <%= Rails.application.credentials.ldap_admin_user %>
  admin_password: <%= Rails.application.credentials.ldap_admin_user_password %>
  ssl: <%= Rails.application.credentials.ldap_ssl %>

test:
  # Test environment can use mock LDAP server or real server configured via credentials
  # If using mock server, update these values accordingly
  host: <%= Rails.application.credentials.dig(:test, :ldap_host) || 'localhost' %>
  port: <%= Rails.application.credentials.dig(:test, :ldap_port) || 389 %>
  attribute: <%= Rails.application.credentials.dig(:test, :ldap_attribute) || 'cn' %>
  base: <%= Rails.application.credentials.dig(:test, :ldap_base) || 'ou=people,dc=test,dc=com' %>
  admin_user: <%= Rails.application.credentials.dig(:test, :ldap_admin_user) || 'cn=admin,dc=test,dc=com' %>
  admin_password: <%= Rails.application.credentials.dig(:test, :ldap_admin_user_password) || 'admin_password' %>
  ssl: <%= Rails.application.credentials.dig(:test, :ldap_ssl) || 'simple_tls' %>

production:
  host: <%= Rails.application.credentials.ldap_host %>
  port: <%= Rails.application.credentials.ldap_port %>
  attribute: <%= Rails.application.credentials.ldap_attribute %>
  base: <%= Rails.application.credentials.ldap_base %>
  admin_user: <%= Rails.application.credentials.ldap_admin_user %>
  admin_password: <%= Rails.application.credentials.ldap_admin_user_password %>
  ssl: <%= Rails.application.credentials.ldap_ssl %>
